# TASK-3: Base Template and HTML Skeleton

## Objective
Create `layouts/_default/baseof.html` - the base template that all other templates extend.

## Requirements
- Minimal HTML5 skeleton
- Meta tags for SEO
- OpenGraph support
- Theme toggle script placeholder
- CSS asset loading
- No external dependencies

## Template Structure

### 1. HTML5 Boilerplate
```html
<!DOCTYPE html>
<html class="theme-sleek" lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- SEO Meta Tags -->

  <!-- OpenGraph Meta Tags -->

  <!-- RSS Feed -->

  <!-- CSS -->

  <!-- Theme Toggle Script (inline) -->
</head>
<body>
  <header>
    <!-- Site header, nav, theme toggle button -->
  </header>

  <main>
    {{ block "main" . }}{{ end }}
  </main>

  <footer>
    <!-- Site footer -->
  </footer>
</body>
</html>
```

## Deliverables

### 1. Create `layouts/_default/baseof.html`

Include:
- **Meta tags**:
  - `title` from page or site
  - `description`
  - Author, keywords if applicable

- **OpenGraph**:
  - `og:title`
  - `og:description`
  - `og:image` (from params.ogImagePath if available)
  - `og:url`
  - `og:type`

- **RSS feed link**: Auto-generated by Hugo

- **CSS loading**:
  ```html
  {{ $css := resources.Get "css/main.css" | resources.Minify }}
  <link rel="stylesheet" href="{{ $css.Permalink }}">
  ```

- **Theme toggle script**:
  - Inline JavaScript (small snippet)
  - Check localStorage for theme preference
  - Apply `.dark` class to html element if needed
  - Prevent flash of wrong theme (FOUC)

- **Navigation**:
  - Home link
  - Links to /blog, /notes, /talks, /work
  - Theme toggle button

- **Footer**:
  - Copyright or simple text
  - Keep minimal

### 2. Theme Toggle Implementation

Inline script in `<head>`:
```javascript
<script>
  // Check localStorage and apply theme before render
  (function() {
    const theme = localStorage.getItem('theme');
    if (theme === 'dark') {
      document.documentElement.classList.add('dark');
    }
  })();
</script>
```

Button in header:
```html
<button id="theme-toggle" aria-label="Toggle theme">
  <!-- Icon or text -->
</button>
```

Script before `</body>`:
```javascript
<script>
  // Theme toggle logic
  const toggle = document.getElementById('theme-toggle');
  toggle.addEventListener('click', () => {
    const html = document.documentElement;
    const isDark = html.classList.toggle('dark');
    localStorage.setItem('theme', isDark ? 'dark' : 'light');
  });
</script>
```

## Context
- Existing theme uses `.theme-sleek` and `.theme-sleek.dark` classes
- Current Astro implementation in `src/layouts/` and `src/components/`
- Reference existing header/footer for structure ideas

## Acceptance Criteria
- [ ] `layouts/_default/baseof.html` created
- [ ] HTML5 skeleton complete
- [ ] SEO meta tags included
- [ ] OpenGraph meta tags included
- [ ] RSS feed link included
- [ ] CSS asset loading configured
- [ ] Theme toggle script inline (FOUC prevention)
- [ ] Theme toggle button in header
- [ ] Navigation links (home, blog, notes, talks, work)
- [ ] Footer included
- [ ] Template has `{{ block "main" . }}{{ end }}` for child templates
- [ ] Template renders without errors

## Notes
- Keep JavaScript minimal and vanilla
- Inline critical theme script to prevent FOUC
- Use Hugo's asset pipeline for CSS minification
- Reference Hugo template docs for asset handling
