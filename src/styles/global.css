@import "tailwindcss";
@plugin "@tailwindcss/typography";

@theme {
  /* Font families */
  --font-body: Verdana, sans-serif;
  --font-heading: Verdana, sans-serif;

  /* Colors - these reference the CSS variables from theme.css */
  /* theme.css defines these as OKLCH values for better color space handling */
  --color-primary-main: var(--color-primary-main);

  --color-label-blue: var(--color-label-blue);
  --color-label-gray: var(--color-label-gray);
  --color-label-yellow: var(--color-label-yellow);
  --color-label-orange: var(--color-label-orange);
  --color-label-red: var(--color-label-red);

  --color-text-body: var(--color-text-body);
  --color-text-bold: var(--color-text-bold);
  --color-text-heading: var(--color-text-heading);
  --color-text-muted: var(--color-text-muted);
  --color-text-code: var(--color-text-code);
  --color-text-link: var(--color-text-link);
  --color-text-selection: var(--color-text-selection);

  --color-bg-body: var(--color-bg-body);
  --color-bg-code: var(--color-bg-code);
  --color-bg-selection: var(--color-bg-selection);

  --color-border-code: var(--color-border-code);
}

@layer base {
  /* Typography prose styles */
  .prose {
    a {
      text-decoration: underline;
      color: var(--color-text-link);
      &:hover {
        text-decoration: none;
        color: var(--color-text-link);
      }
    }

    h1,
    h2,
    h3,
    h4,
    h5 {
      color: var(--color-text-heading);
    }

    h1,
    h2 {
      font-weight: 800;
    }

    h3,
    h4,
    h5 {
      font-weight: 700;
    }

    code::before,
    code::after {
      content: none;
    }
  }
}

/* Custom prose-sleek variant - outside @layer to override plugin defaults */
.prose-sleek {
  --tw-prose-body: var(--color-text-body);
  --tw-prose-headings: var(--color-text-heading);
  --tw-prose-lead: var(--color-text-body);
  --tw-prose-links: var(--color-text-link);
  --tw-prose-bold: var(--color-text-bold);
  --tw-prose-counters: var(--color-text-muted);
  --tw-prose-bullets: var(--color-text-muted);
  --tw-prose-hr: var(--color-text-muted);
  --tw-prose-quotes: var(--color-text-body);
  --tw-prose-quote-borders: var(--color-primary-main);
  --tw-prose-captions: var(--color-text-heading);
  --tw-prose-quote-captions: var(--color-text-heading);
  --tw-prose-code: var(--color-text-code);
  --tw-prose-pre-code: var(--color-text-code);
  --tw-prose-pre-bg: var(--color-bg-code);
  --tw-prose-th-borders: var(--color-text-muted);
  --tw-prose-td-borders: var(--color-text-muted);
}

@layer base {
  :root {
    font-family: theme(--font-body);
    background-color: var(--color-bg-body);
    color: var(--color-text-body);
    line-height: 28px;
    scroll-behavior: smooth;
    transition: background-color 0.3s ease;
    scrollbar-gutter: stable;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: theme(--font-heading);
  }
}

@layer components {
  /* ------ GLOBAL STYLES - START ------ */
  strong {
    font-weight: 600;
    color: var(--color-text-bold);
  }

  mark {
    background-color: var(--color-bg-selection);
    color: var(--color-text-selection);
  }

  /*
      if you want an anchor tag to not have this style,
      just add a class `unset` to it.
  */
  a:not(.unset) {
    text-decoration: underline;
    background-repeat: no-repeat;
    color: var(--color-text-link);
  }

  a:not(.unset):hover {
    text-decoration: none;
    color: var(--color-text-link);
  }

  code:not(pre code):not(.unset) {
    background-color: var(--color-bg-code);
    color: var(--color-text-code);
    padding: 0.125rem 0.25rem;
    border-radius: 0.25rem;
    font-size: 0.875em;
    font-weight: 400;
    border: 1px solid var(--color-border-code);
    margin-bottom: 1.25em;
  }

  html.dark code:not(pre code) {
    background-color: oklch(from var(--color-bg-code) l c h / 0.15);
    border-color: oklch(from var(--color-border-code) l c h / 0.15);
  }

  ::selection {
    background: var(--color-bg-selection);
    color: var(--color-text-selection);
  }

  /* ------ GLOBAL STYLES - END ------ */

  /* ------ REUSABLE UTILS - START ------ */
  .animated-link {
    text-decoration: none;
  }

  .animated-link:hover {
    color: var(--color-text-link);
  }

  .animated-link.show {
    text-decoration: underline;
    color: var(--color-text-link);
  }

  /* ------ REUSABLE UTILS - END ------ */
}
